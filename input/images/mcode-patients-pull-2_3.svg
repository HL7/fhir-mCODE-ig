<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="345px" preserveAspectRatio="none" style="width:572px;height:345px;" version="1.1" viewBox="0 0 572 345" width="572px" zoomAndPan="magnify"><defs><filter height="300%" id="f1xvzuycb8n6aa" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="Arial" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="542" x="13" y="28.8838">mCODE Patients: Pull Model - Implementation Option 2.3 (Fallback)</text><rect fill="#FFFFFF" filter="url(#f1xvzuycb8n6aa)" height="229.958" style="stroke: #000000; stroke-width: 2.0;" width="548" x="10" y="91.7969"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="97" x2="97" y1="74.7969" y2="166.8271"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="97" x2="97" y1="166.8271" y2="194.8271"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="97" x2="97" y1="194.8271" y2="338.7549"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="449" x2="449" y1="74.7969" y2="166.8271"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="449" x2="449" y1="166.8271" y2="194.8271"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="449" x2="449" y1="194.8271" y2="338.7549"/><rect fill="#FEFECE" filter="url(#f1xvzuycb8n6aa)" height="30.0986" style="stroke: #A80036; stroke-width: 1.5;" width="150" x="20" y="39.6982"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="136" x="27" y="59.8301">mCODE Data Sender</text><rect fill="#FEFECE" filter="url(#f1xvzuycb8n6aa)" height="30.0986" style="stroke: #A80036; stroke-width: 1.5;" width="160" x="367" y="39.6982"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="146" x="374" y="59.8301">mCODE Data Receiver</text><path d="M10,91.7969 L237,91.7969 L237,97.7969 L227,107.7969 L10,107.7969 L10,91.7969 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="229.958" style="stroke: #000000; stroke-width: 2.0;" width="548" x="10" y="91.7969"/><text fill="#000000" font-family="Arial" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="182" x="25" y="104.9907">Get Conditions, then Patients</text><polygon fill="#A80036" points="108,125.8784,98,129.8784,108,133.8784,104,129.8784" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="102" x2="448" y1="129.8784" y2="129.8784"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="256" x="114" y="124.8125">GET [base]/Condition?code:in=...</text><polygon fill="#A80036" points="437,154.8271,447,158.8271,437,162.8271,441,158.8271" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="97" x2="443" y1="158.8271" y2="158.8271"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="328" x="104" y="154.0723">HTTP response containing Bundle of relevant Conditions</text><path d="M350,199.8271 L350,253.8271 L544,253.8271 L544,209.8271 L534,199.8271 L350,199.8271 " fill="#FBFB77" filter="url(#f1xvzuycb8n6aa)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M534,199.8271 L534,209.8271 L544,209.8271 L534,199.8271 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="356" y="217.021">Receiver extracts unique</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="173" x="356" y="231.9697">patient IDs from Conditions to</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="356" y="246.9185">generate a second request:</text><polygon fill="#A80036" points="108,280.8062,98,284.8062,108,288.8062,104,284.8062" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="102" x2="448" y1="284.8062" y2="284.8062"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="328" x="114" y="279.7402">GET [base]/Patient?_id=id_1,id_2,...,id_n</text><polygon fill="#A80036" points="437,309.7549,447,313.7549,437,317.7549,441,313.7549" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="97" x2="443" y1="313.7549" y2="313.7549"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="265" x="104" y="309">HTTP response containing Bundle of Patients</text><!--MD5=[e6e1b7bd02af7f6057ed97da33d44b9a]
@startuml
skinparam defaultFontName Arial

title mCODE Patients: Pull Model - Implementation Option 2.3 (Fallback)
hide footbox
participant "mCODE Data Sender" as Sender
participant "mCODE Data Receiver" as Receiver

group Get Conditions, then Patients
    "Receiver" -> "Sender" : ""GET [base]/Condition?code:in=...""
    "Sender" - -> "Receiver" : HTTP response containing Bundle of relevant Conditions
    ...
    note over Receiver
    Receiver extracts unique
    patient IDs from Conditions to
    generate a second request:
    end note
    "Receiver" -> "Sender" : ""GET [base]/Patient?_id=id_1,id_2,...,id_n""
    "Sender" - -> "Receiver" : HTTP response containing Bundle of Patients
end


@enduml

PlantUML version 1.2020.19(Mon Oct 12 11:10:01 EDT 2020)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>