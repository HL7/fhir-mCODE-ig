<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="598px" preserveAspectRatio="none" style="width:712px;height:598px;" version="1.1" viewBox="0 0 712 598" width="712px" zoomAndPan="magnify"><defs><filter height="300%" id="f5ep8jlbqfm9k" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="Arial" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="231" x="238.5" y="28.8838">mCODE Patients: Pull Model</text><rect fill="#FFFFFF" filter="url(#f5ep8jlbqfm9k)" height="75.2144" style="stroke: #000000; stroke-width: 2.0;" width="675" x="10" y="91.7969"/><rect fill="#FFFFFF" filter="url(#f5ep8jlbqfm9k)" height="215.0093" style="stroke: #000000; stroke-width: 2.0;" width="688" x="10" y="181.0112"/><rect fill="#FFFFFF" filter="url(#f5ep8jlbqfm9k)" height="75.0303" style="stroke: #000000; stroke-width: 2.0;" width="675" x="10" y="410.0205"/><rect fill="#FFFFFF" filter="url(#f5ep8jlbqfm9k)" height="75.0303" style="stroke: #000000; stroke-width: 2.0;" width="675" x="10" y="499.0508"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="97" x2="97" y1="74.7969" y2="256.0415"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="97" x2="97" y1="256.0415" y2="284.0415"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="97" x2="97" y1="284.0415" y2="591.0811"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="593" x2="593" y1="74.7969" y2="256.0415"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="593" x2="593" y1="256.0415" y2="284.0415"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="593" x2="593" y1="284.0415" y2="591.0811"/><rect fill="#FEFECE" filter="url(#f5ep8jlbqfm9k)" height="30.0986" style="stroke: #A80036; stroke-width: 1.5;" width="150" x="20" y="39.6982"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="136" x="27" y="59.8301">mCODE Data Sender</text><rect fill="#FEFECE" filter="url(#f5ep8jlbqfm9k)" height="30.0986" style="stroke: #A80036; stroke-width: 1.5;" width="160" x="511" y="39.6982"/><text fill="#000000" font-family="Arial" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="146" x="518" y="59.8301">mCODE Data Receiver</text><path d="M10,91.7969 L220,91.7969 L220,98.7969 L210,108.7969 L10,108.7969 L10,91.7969 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="75.2144" style="stroke: #000000; stroke-width: 2.0;" width="675" x="10" y="91.7969"/><text fill="#000000" font-family="Arial" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="97" x="25" y="105.1748">Get Patients via</text><text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="64" x="126" y="104.8638">_profile</text><polygon fill="#A80036" points="108,126.0625,98,130.0625,108,134.0625,104,130.0625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="102" x2="592" y1="130.0625" y2="130.0625"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="408" x="114" y="124.9966">GET [base]/Patient?_profile=...mcode-cancer-patient</text><polygon fill="#A80036" points="581,155.0112,591,159.0112,581,163.0112,585,159.0112" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="97" x2="587" y1="159.0112" y2="159.0112"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="315" x="104" y="154.2563">HTTP response containing Bundle of relevant Patients</text><path d="M10,181.0112 L237,181.0112 L237,187.0112 L227,197.0112 L10,197.0112 L10,181.0112 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="215.0093" style="stroke: #000000; stroke-width: 2.0;" width="688" x="10" y="181.0112"/><text fill="#000000" font-family="Arial" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="182" x="25" y="194.2051">Get Conditions, then Patients</text><polygon fill="#A80036" points="108,215.0928,98,219.0928,108,223.0928,104,219.0928" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="102" x2="592" y1="219.0928" y2="219.0928"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="256" x="114" y="214.0269">GET [base]/Condition?code:in=...</text><polygon fill="#A80036" points="581,244.0415,591,248.0415,581,252.0415,585,248.0415" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="97" x2="587" y1="248.0415" y2="248.0415"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="328" x="104" y="243.2866">HTTP response containing Bundle of relevant Conditions</text><path d="M497,289.0415 L497,328.0415 L684,328.0415 L684,299.0415 L674,289.0415 L497,289.0415 " fill="#FBFB77" filter="url(#f5ep8jlbqfm9k)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M674,289.0415 L674,299.0415 L684,299.0415 L674,289.0415 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="137" x="503" y="306.2354">Repeat for each Patient</text><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="166" x="503" y="321.1841">identified in previous request</text><polygon fill="#A80036" points="108,355.0718,98,359.0718,108,363.0718,104,359.0718" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="102" x2="592" y1="359.0718" y2="359.0718"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="184" x="114" y="354.0059">GET [base]/Patient/[id]</text><polygon fill="#A80036" points="581,384.0205,591,388.0205,581,392.0205,585,388.0205" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="97" x2="587" y1="388.0205" y2="388.0205"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="199" x="104" y="383.2656">HTTP response containing Patient</text><path d="M10,410.0205 L232,410.0205 L232,416.0205 L222,426.0205 L10,426.0205 L10,410.0205 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="75.0303" style="stroke: #000000; stroke-width: 2.0;" width="675" x="10" y="410.0205"/><text fill="#000000" font-family="Arial" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="177" x="25" y="423.2144">Get Conditions with Patients</text><polygon fill="#A80036" points="108,444.1021,98,448.1021,108,452.1021,104,448.1021" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="102" x2="592" y1="448.1021" y2="448.1021"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="472" x="114" y="443.0361">GET [base]/Condition?code:in=...&amp;_include=Condition:subject</text><polygon fill="#A80036" points="581,473.0508,591,477.0508,581,481.0508,585,477.0508" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="97" x2="587" y1="477.0508" y2="477.0508"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="405" x="104" y="472.2959">HTTP response containing Bundle of relevant Conditions and Patients</text><path d="M10,499.0508 L259,499.0508 L259,505.0508 L249,515.0508 L10,515.0508 L10,499.0508 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="75.0303" style="stroke: #000000; stroke-width: 2.0;" width="675" x="10" y="499.0508"/><text fill="#000000" font-family="Arial" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="204" x="25" y="512.2446">Get Patients via reverse chaining</text><polygon fill="#A80036" points="108,533.1323,98,537.1323,108,541.1323,104,537.1323" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="102" x2="592" y1="537.1323" y2="537.1323"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="424" x="114" y="532.0664">GET [base]/Patient?_has:Condition:subject:code:in=...</text><polygon fill="#A80036" points="581,562.0811,591,566.0811,581,570.0811,585,566.0811" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="97" x2="587" y1="566.0811" y2="566.0811"/><text fill="#000000" font-family="Arial" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="315" x="104" y="561.3262">HTTP response containing Bundle of relevant Patients</text><!--MD5=[00a3bfecaa51d5ec78b4e7877a4918ec]
@startuml
skinparam defaultFontName Arial

title mCODE Patients: Pull Model
hide footbox
participant "mCODE Data Sender" as Sender
participant "mCODE Data Receiver" as Receiver

group Get Patients via ""_profile""
    "Receiver" -> "Sender" : ""GET [base]/Patient?_profile=...mcode-cancer-patient""
    "Sender" - -> "Receiver" : HTTP response containing Bundle of relevant Patients
end

group Get Conditions, then Patients
    "Receiver" -> "Sender" : ""GET [base]/Condition?code:in=...""
    "Sender" - -> "Receiver" : HTTP response containing Bundle of relevant Conditions
    ...
    note over Receiver
    Repeat for each Patient
    identified in previous request
    end note
    "Receiver" -> "Sender" : ""GET [base]/Patient/[id]""
    "Sender" - -> "Receiver" : HTTP response containing Patient
end

group Get Conditions with Patients
    "Receiver" -> "Sender" : ""GET [base]/Condition?code:in=...&_include=Condition:subject""
    "Sender" - -> "Receiver" : HTTP response containing Bundle of relevant Conditions and Patients
end

group Get Patients via reverse chaining
    "Receiver" -> "Sender" : ""GET [base]/Patient?_has:Condition:subject:code:in=...""
    "Sender" - -> "Receiver" : HTTP response containing Bundle of relevant Patients
end

@enduml

PlantUML version 1.2020.19(Mon Oct 12 11:10:01 EDT 2020)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>